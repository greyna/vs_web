<html>
	<head>
		<script src="template.js"></script>
		<script src="./edit/ckeditor.js"></script>
		<script src="jquery.js"></script>    
	    <script src="./menu_prototype.js"></script>
        <script src="./bootstrap/js/bootstrap.min.js"></script>
	    <script src="./menu_prototype.js"></script>
	    <script src="./item_prototype.js"></script>
	    <script src="./load.js"></script>
	    <script src="./util.js"></script>
		<script src="handlebars-v1.3.0.js"></script>
		<link href="./edit/sample.css" rel="stylesheet">
		<script>
			
			//utiliser plutôt le getComponent pour simplifier
			var template = new Template();
			template.from_json(
			JSON.parse(jq.ajax({
				url : 'http://localhost:8080/component/1401007922419wkduse1eas', //récupère le menu publié
				type : 'GET',
				dataType : 'text',
				data : '',
				contentType : "application/json; charset=utf-8",
				traditional : true,
				success : function(msg) {
					alert("success");
				},
				error : function(msg) {
					alert("nooooo");
				},
				async : false
			}).responseText));
/*
			var menu = Menu.prototype.create_from_json(jq.ajax({
				url : 'http://localhost:8080/component/en/menu', //récupère le menu publié
				type : 'GET',
				dataType : 'text',
				data : '',
				contentType : "application/json; charset=utf-8",
				traditional : true,
				success : function(msg) {
					alert("SUCCES!");
				},
				error : function(msg) {
					alert("NOOOO!");
				},
				async : false
			}).responseText);
*/

			var source  = template.html;
			alert(source);
			var res = Handlebars.compile(source);
			var context = {menu: 'test'};
			alert(context);
			var html = res(context);
			alert(html);
			document.write(html);
        	document.close();

			jq(document).keyup(function(e){
				e.preventDefault();
				if(e.ctrlKey && e.which === 83){  

				        alert(document.getElementById('editable').innerHTML);
				        return false;
				}
   			 });	
		</script>
	</head>
	<body>
	</body>
</html>